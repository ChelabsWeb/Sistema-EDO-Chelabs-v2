@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* Surface colors */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* Primary Brand */
  --color-primary: #2b4bee;
  --color-primary-glow: #4d6bfe;
  --color-apple-blue: #0071e3;
  --color-apple-blue-dark: #0077ed;
  --color-apple-blue-light: #47a1ff;

  /* Semantic Grays */
  --color-apple-gray-50: var(--apple-gray-50);
  --color-apple-gray-100: var(--apple-gray-100);
  --color-apple-gray-200: var(--apple-gray-200);
  --color-apple-gray-300: var(--apple-gray-300);
  --color-apple-gray-400: var(--apple-gray-400);
  --color-apple-gray-500: var(--apple-gray-500);
  --color-apple-gray-600: var(--apple-gray-600);

  /* Shadows - Advanced layered shadows */
  --shadow-apple: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-apple-sm: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
  --shadow-apple-md: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
  --shadow-apple-lg: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
  --shadow-apple-float: 0 30px 60px -12px rgba(0, 0, 0, 0.1), 0 18px 36px -18px rgba(0, 0, 0, 0.15);

  /* Radii - Squircle style */
  --radius-apple: 0.75rem;
  --radius-apple-xl: 1.5rem;
  --radius-apple-2xl: 2rem;

  /* Animations */
  --animate-apple-fade-in: apple-fade-in 0.8s cubic-bezier(0.2, 0.6, 0.4, 1);
  --animate-apple-slide-up: apple-slide-up 1s cubic-bezier(0.2, 0.6, 0.4, 1);
  --animate-marquee: marquee 30s linear infinite;

  @keyframes marquee {
    from {
      transform: translateX(0);
    }

    to {
      transform: translateX(-100%);
    }
  }

  /* Fonts */
  --font-sans: var(--font-manrope);
  --font-display: var(--font-inter);

  @keyframes apple-fade-in {
    from {
      opacity: 0;
    }

    to {
      opacity: 1;
    }
  }

  @keyframes apple-slide-up {
    from {
      opacity: 0;
      transform: translateY(30px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
}

/* Hide scrollbar utility */
.custom-scrollbar-hide {
  -ms-overflow-style: none;
  /* IE and Edge */
  scrollbar-width: none;
  /* Firefox */
}

.custom-scrollbar-hide::-webkit-scrollbar {
  display: none;
  /* Chrome, Safari and Opera */
}

:root {
  --background: #fbfbfd;
  --foreground: #1d1d1f;

  /* Gray Palette */
  --apple-gray-50: #f5f5f7;
  --apple-gray-100: #e8e8ed;
  --apple-gray-200: #d2d2d7;
  --apple-gray-300: #86868b;
  --apple-gray-400: #6e6e73;
  --apple-gray-500: #424245;
  --apple-gray-600: #1d1d1f;

  /* Chart colors */
  --chart-grid: rgba(0, 0, 0, 0.05);

  /* Shadcn-like mapping for components */
  --border: rgba(0, 0, 0, 0.08);
  --input: rgba(0, 0, 0, 0.05);
  --ring: #007aff;
  --selection: rgba(43, 75, 238, 0.15);
}

.dark {
  --background: #0f111a;
  --foreground: #f5f5f7;

  /* Dark Gray Palette */
  --apple-gray-50: #1c1c1e;
  --apple-gray-100: #2c2c2e;
  --apple-gray-200: #3a3a3c;
  --apple-gray-300: #8e8e93;
  --apple-gray-400: #aeaeb2;
  --apple-gray-500: #c7c7cc;
  --apple-gray-600: #f5f5f7;

  --chart-grid: rgba(255, 255, 255, 0.05);

  --border: rgba(255, 255, 255, 0.1);
  --input: rgba(255, 255, 255, 0.05);
  --ring: #0a84ff;
  --selection: rgba(59, 130, 246, 0.2);
}

@layer base {
  body {
    @apply bg-background text-foreground antialiased selection:bg-[var(--selection)] selection:text-[var(--apple-blue)];
    font-feature-settings: "cv11", "ss01", "ss03";
    letter-spacing: -0.01em;
    background-image:
      radial-gradient(circle at 0% 0%, rgba(43, 75, 238, 0.12) 0%, transparent 60%),
      radial-gradient(circle at 100% 100%, rgba(138, 43, 226, 0.08) 0%, transparent 60%);
    background-attachment: fixed;
  }

  .dark body {
    background-image:
      radial-gradient(circle at 0% 0%, rgba(43, 75, 238, 0.1) 0%, transparent 70%),
      radial-gradient(circle at 100% 100%, rgba(138, 43, 226, 0.06) 0%, transparent 70%);
  }

  * {
    @apply border-black/5 dark:border-white/5;
  }
}

@layer utilities {
  .premium-card {
    @apply bg-white/80 dark:bg-white/[0.03] backdrop-blur-xl border border-apple-gray-100 dark:border-white/10 shadow-apple dark:shadow-2xl rounded-[40px];
  }

  .glass {
    @apply bg-white/80 backdrop-blur-xl border border-black/10 dark:bg-[#161821]/80 dark:border-white/10 shadow-sm;
  }

  .glass-dark {
    @apply bg-[#161821]/80 backdrop-blur-xl border border-white/10 shadow-2xl;
  }

  .text-balance {
    text-wrap: balance;
  }

  .squircle {
    mask-image: radial-gradient(#000, #000);
    /* Fallback simplified */
    border-radius: 2rem;
  }

  .premium-glass {
    @apply transition-all duration-300 backdrop-blur-[32px] rounded-[24px];
    background-color: rgba(255, 255, 255, 0.7);
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.08);
  }

  .dark .premium-glass {
    background-color: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: var(--shadow-2xl);
  }

  .glass-card {
    @apply transition-all duration-300;
    backdrop-filter: blur(40px);
    -webkit-backdrop-filter: blur(40px);
    background-color: rgba(255, 255, 255, 0.65);
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: var(--shadow-xl);
    border-radius: 24px;
  }

  .dark .glass-card {
    background-color: rgba(255, 255, 255, 0.03);
    border: 1px solid rgba(255, 255, 255, 0.1);
    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
  }

  .text-glow-blue {
    text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
  }

  .bg-noise {
    background-image: url('https://grainy-gradients.vercel.app/noise.svg');
    background-size: 100px 100px;
  }

  .bg-grid-pattern {
    background-image: radial-gradient(rgba(0, 0, 0, 0.05) 1px, transparent 1px);
    background-size: 32px 32px;
  }

  .dark .bg-grid-pattern {
    background-image: radial-gradient(rgba(255, 255, 255, 0.05) 1px, transparent 1px);
  }
}